<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lyon League - Torneo tra Amici</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="particles"></div>
    <header>
        <h1>Lyon League - Torneo di Calcio tra Amici</h1>
    </header>

    <nav style="max-width: 1200px; margin: 0 auto; display: flex; align-items: center; background: linear-gradient(to right, #005b96, #1976d2); padding: 10px; position: static; top: 0; width: 100%; z-index: 1000;">
        <a href="#">Home</a>
        <a href="#rules">Regolamento</a>        
        <a href="#teams">Squadre</a>
        <a href="#standings">Classifica</a>
        <a href="#contact">Contatti</a>
        <a href="#season">Edizioni</a>
        <a href="#michelin">Premio Michelin</a>
        <button onclick="toggleDarkMode()" id="darkModeToggle" style="margin-left: auto; padding: 10px; background: none; border: 2px solid #ffffff; border-radius: 8px; cursor: pointer; transition: background 0.3s, border 0.3s;">
            <img id="darkModeIcon" src="https://img.icons8.com/ios-filled/50/ffffff/sun--v1.png" alt="Icona Modalità Notte" style="width: 24px; height: 24px;">
        </button>
    </nav>

    <div class="content">
        <!-- Tutto il contenuto delle sezioni rimane invariato -->
        <!-- ... (rules-section, teams-section, standings-section, ecc.) ... -->
    </div>

    <footer>
        <p>&copy; 2024 Lyon League. Tutti i diritti riservati.</p>
        <div class="social-media">
            <a href="#"><i class="fab fa-facebook"></i></a>
            <a href="#"><i class="fab fa-twitter"></i></a>
            <a href="#"><i class="fab fa-instagram"></i></a>
        </div>
    </footer>

    <audio id="epicSound" src="https://www.soundjay.com/button/sounds/button-6.mp3" preload="auto"></audio>

    <script>
        // Attiva audio ed effetti particelle
        document.addEventListener("DOMContentLoaded", function() {
            const audio = document.getElementById("epicSound");
            audio.play();
            setTimeout(() => { document.querySelector('.particles').style.display = 'none'; }, 1000);
            createParticles(50);
        });

        function createParticles(num) {
            const particlesContainer = document.createElement("div");
            particlesContainer.classList.add("particles");
            for (let i = 0; i < num; i++) {
                const particle = document.createElement("div");
                particle.classList.add("particle");
                particle.style.left = Math.random() * 100 + "vw";
                particle.style.top = Math.random() * 100 + "vh";
                particle.style.animationDelay = Math.random() * 2 + "s";
                particlesContainer.appendChild(particle);
            }
            document.body.appendChild(particlesContainer);
        }

        // Dark mode toggle
        function toggleDarkMode() {
            const darkModeIcon = document.getElementById('darkModeIcon');
            const isDark = document.body.classList.toggle('dark-mode');
            document.querySelector('header').classList.toggle('dark-mode');
            document.querySelector('nav').classList.toggle('dark-mode');
            document.querySelector('.hero')?.classList.toggle('dark-mode');
            document.querySelectorAll('.rules-section, .teams-section, .standings-section').forEach(section => {
                section.classList.toggle('dark-mode');
            });
            document.querySelectorAll('.team').forEach(team => {
                team.classList.toggle('dark-mode');
            });
            document.querySelector('.standings-table')?.classList.toggle('dark-mode');
            document.querySelector('footer').classList.toggle('dark-mode');
            document.querySelectorAll('.social-media a').forEach(link => {
                link.classList.toggle('dark-mode');
            });

            darkModeIcon.src = isDark
                ? 'https://img.icons8.com/ios-filled/50/ffffff/moon-symbol.png'
                : 'https://img.icons8.com/ios-filled/50/ffffff/sun--v1.png';
            darkModeIcon.alt = isDark ? 'Icona Modalità Notte' : 'Icona Modalità Giorno';
        }

        // Classifica dinamica
        function updateStandings() {
            const rows = document.querySelectorAll('.standings-table tbody tr');
            rows.forEach((row) => {
                const goalsFor = parseInt(row.cells[7].querySelector('input').value);
                const goalsAgainst = parseInt(row.cells[8].querySelector('input').value);
                const goalDifference = goalsFor - goalsAgainst;
                row.cells[9].querySelector('input').value = goalDifference;
            });

            const sortedRows = Array.from(rows).sort((a, b) => {
                const pointsA = parseInt(a.cells[2].querySelector('input').value);
                const pointsB = parseInt(b.cells[2].querySelector('input').value);
                const diffA = parseInt(a.cells[9].querySelector('input').value);
                const diffB = parseInt(b.cells[9].querySelector('input').value);
                const goalsA = parseInt(a.cells[7].querySelector('input').value);
                const goalsB = parseInt(b.cells[7].querySelector('input').value);

                if (pointsA !== pointsB) return pointsB - pointsA;
                if (diffA !== diffB) return diffB - diffA;
                return goalsB - goalsA;
            });

            const tbody = document.querySelector('.standings-table tbody');
            tbody.innerHTML = '';
            sortedRows.forEach((row, index) => {
                row.cells[0].textContent = index + 1;
                tbody.appendChild(row);
            });
        }
    </script>
</body>
</html>
